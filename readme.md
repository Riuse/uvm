# Учебная Виртуальная Машина (УВМ)

## Описание проекта

Этот проект включает разработку ассемблера и интерпретатора для учебной виртуальной машины (УВМ). Система команд УВМ описана ниже. Ассемблер преобразует исходный текст программы в бинарный файл, а интерпретатор выполняет команды из этого бинарного файла.

## Содержание

- [Требования](#требования)
- [Установка](#установка)
- [Использование](#использование)
- [Система команд УВМ](#система-команд-увм)

## Требования

- Python 3.8+
- JSON библиотека (входит в стандартную библиотеку Python)

## Установка

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/yourusername/uvm.git
    cd uvm
    ```

## Использование

### Ассемблер

Ассемблер принимает на вход файл с текстом исходной программы и создает бинарный файл и файл-лог.

```sh
python assembler.py input.asm output.bin log.json
```

### Интерпретатор

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ и сохраняет результат в указанный файл.

```sh
python interpreter.py input.bin result.json --memory-range start:end
```

## Система команд УВМ

1. **Загрузка константы**
   - Размер команды: 4 байта
   - Операнд: поле B
   - Результат: регистр по адресу, которым является поле C

2. **Чтение из памяти**
   - Размер команды: 2 байта
   - Операнд: ячейка памяти по адресу, которым является регистр по адресу, которым является поле B
   - Результат: регистр по адресу, которым является поле C

3. **Запись в память**
   - Размер команды: 4 байта
   - Операнд: регистр по адресу, которым является поле C
   - Результат: ячейка памяти по адресу, которым является сумма адреса (регистр по адресу, которым является поле B) и смещения (поле D)

4. **Побитовый циклический сдвиг вправо**
   - Размер команды: 3 байта
   - Первый операнд: регистр по адресу, которым является поле B
   - Второй операнд: регистр по адресу, которым является поле D
   - Результат: ячейка памяти по адресу, которым является регистр по адресу, которым является поле C

## Тесты
Тестовые входные данные и результаты работы ассемблера и интерпретатора находятся в файлах test_*